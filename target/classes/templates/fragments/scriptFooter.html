<script>
  document.addEventListener("DOMContentLoaded", function () {
    // WCAG skip link support
    const skipLink = document.querySelector(".skip-link");
    if (skipLink) {
      skipLink.addEventListener("focus", () => {
        skipLink.style.position = "static";
      });
      skipLink.addEventListener("blur", () => {
        skipLink.style.position = "absolute";
      });
    }

    // Dark mode toggle setup
    const toggleButton = document.querySelector(".toggle-dark-mode");
    if (toggleButton) {
      // Load saved mode
      if (localStorage.getItem("dark-mode") === "true") {
        document.body.classList.add("dark-mode");
      }

      // Listen for toggle
      toggleButton.addEventListener("click", () => {
        document.body.classList.toggle("dark-mode");
        localStorage.setItem(
          "dark-mode",
          document.body.classList.contains("dark-mode")
        );
      });
    }
  });
</script>
